{
	"name": "NetworkingEvents",
	"events": [
		{
			"functionName": "OnReceiveData",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "type",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 970743454832491
				},
				{
					"name": "message",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 597759519027603
				},
				{
					"name": "from_alias",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 745225766137611
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 729138997556498,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 970210268131705,
							"parameters": {
								"first-value": "type",
								"comparison": 0,
								"second-value": "\"__connection_data\""
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Parses connection data message.\nNOTE: Status assumed to be string (due to \"SetValue\" instead of \"SetJSON\")."
						},
						{
							"id": "parse",
							"objectClass": "MessagingJSON",
							"sid": 722544731195488,
							"parameters": {
								"data": "Multiplayer.Message"
							}
						}
					],
					"sid": 946378042523583,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "has-key",
									"objectClass": "MessagingJSON",
									"sid": 276767138738709,
									"parameters": {
										"path": "\"status\""
									}
								}
							],
							"actions": [
								{
									"id": "set-value",
									"objectClass": "GameDataJSON",
									"sid": 675607150225189,
									"parameters": {
										"path": "\"players.\"&Multiplayer.PeerAlias&\".status\"",
										"value": "MessagingJSON.Get(\"status\")"
									}
								}
							],
							"sid": 986366460194548
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "MessagingJSON",
									"sid": 174809423630110,
									"parameters": {
										"path": "\"roles\""
									}
								}
							],
							"actions": [],
							"sid": 566407906904198,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-key",
											"objectClass": "MessagingJSON",
											"sid": 687644344007602,
											"parameters": {
												"path": "\"roles.\"&MessagingJSON.CurrentValue"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-array",
											"objectClass": "GameDataJSON",
											"sid": 378046395854560,
											"parameters": {
												"path": "\"roles.\"&MessagingJSON.CurrentValue",
												"size": "0"
											}
										}
									],
									"sid": 960354579762601
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "push-value",
											"objectClass": "GameDataJSON",
											"sid": 833003573500483,
											"parameters": {
												"where": "back",
												"path": "\"roles.\"&MessagingJSON.CurrentValue",
												"value": "Multiplayer.PeerAlias"
											}
										}
									],
									"sid": 254570870004127
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 677282288659622,
							"parameters": {
								"first-value": "type",
								"comparison": 0,
								"second-value": "\"level_results\""
							}
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 564631087781949,
							"parameters": {
								"type": "log",
								"message": "\"Got results for player \"&from_alias&\":  \"&message"
							}
						},
						{
							"id": "append-text",
							"objectClass": "ResultsText",
							"sid": 849766004462005,
							"parameters": {
								"text": "from_alias&\": \"&str(len(message))&newline"
							}
						}
					],
					"sid": 470382978450717
				}
			]
		},
		{
			"functionName": "OnReceiveRequest",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "type",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 578858175142666
				},
				{
					"name": "from_alias",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 433460896683031
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 120911507404193
		},
		{
			"functionName": "OnSendData",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "type",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 921614534612574
				},
				{
					"name": "message",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 158033329274977
				},
				{
					"name": "to_alias",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 729294383287941
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 658511780411674,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [],
					"sid": 144091858013376
				}
			]
		},
		{
			"functionName": "OnSendRequest",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "type",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 715628140409988
				},
				{
					"name": "to_alias",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 818151500492489
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 206813794939734,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [],
					"sid": 558108425054541
				}
			]
		},
		{
			"functionName": "SetAndSendPlayerRole",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "to_alias",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 489317199021250
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "log",
					"objectClass": "Browser",
					"sid": 783065537883887,
					"parameters": {
						"type": "log",
						"message": "\"Setting role for player \"&to_alias&\". len(A)=\"&GameDataJSON.ArraySize(\"roles.A\")&\", len(B)=\"&GameDataJSON.ArraySize(\"roles.B\")"
					}
				}
			],
			"sid": 889567134516578,
			"children": [
				{
					"eventType": "variable",
					"name": "role",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 408245279707224
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 109885693067542,
							"parameters": {
								"first-value": "GameDataJSON.ArraySize(\"roles.A\")",
								"comparison": 3,
								"second-value": "GameDataJSON.ArraySize(\"roles.B\")"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 509944216864161,
							"parameters": {
								"variable": "role",
								"value": "\"A\""
							}
						}
					],
					"sid": 723872964825926
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 198397416397202
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 933638821615015,
							"parameters": {
								"variable": "role",
								"value": "\"B\""
							}
						}
					],
					"sid": 193402932109663
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "has-key",
							"objectClass": "GameDataJSON",
							"sid": 438989839130099,
							"parameters": {
								"path": "\"roles.\"&role"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-array",
							"objectClass": "GameDataJSON",
							"sid": 623654985956377,
							"parameters": {
								"path": "\"roles.\"&role",
								"size": "0"
							}
						}
					],
					"sid": 268156708833432
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "push-value",
							"objectClass": "GameDataJSON",
							"sid": 208209909179540,
							"parameters": {
								"where": "back",
								"path": "\"roles.\"&role",
								"value": "Multiplayer.PeerAlias"
							}
						},
						{
							"callFunction": "SendDataToSpecificPeer",
							"sid": 239396665361314,
							"parameters": [
								"\"__player_data\"",
								"\"{\"\"roles\"\": [\"\"\"&role&\"\"\"]}\"",
								"to_alias"
							]
						}
					],
					"sid": 998470915188926
				}
			]
		}
	],
	"sid": 110996937521077
}